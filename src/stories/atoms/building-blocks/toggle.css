/* Toggle Component */
.toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  --toggle-track-width: var(--component-toggle-default-track-width, 50px);
  --toggle-track-height: var(--component-toggle-default-track-height, 28px);
  --toggle-track-horizontal-padding: var(--spacing-sizing-4px, 4px);
  --toggle-track-vertical-padding: var(--spacing-sizing-2px, 2px);
  --toggle-thumb-wrapper-size: var(--component-toggle-default-thumb-wrapper, 28px);
  --toggle-thumb-inner-size: var(--component-toggle-default-thumb, 22px);
  --toggle-thumb-offset-top: calc(var(--spacing-sizing-2px, 2px) * -1);
  --toggle-thumb-position-off: calc(var(--spacing-sizing-4px, 4px) * -1);
  --toggle-thumb-position-on: calc(var(--spacing-sizing-20px, 20px) - var(--spacing-sizing-2px, 2px));
  --toggle-icon-size: var(--icon-size-md, 16px);
  --toggle-transition-duration: 0.2s;
  --toggle-track-background: var(--base-white, #FFFFFF);
  --toggle-track-outline-color: var(--primary-sky-blue-dark-sky-blue, #04435E);
  --toggle-track-box-shadow: inset 0 0 0 0 transparent;
}

.toggle[data-size="small"] {
  --toggle-track-width: var(--component-toggle-small-track-width, 40px);
  --toggle-track-height: var(--component-toggle-small-track-height, 22px);
  --toggle-thumb-wrapper-size: var(--component-toggle-small-thumb-wrapper, 24px);
  --toggle-thumb-inner-size: var(--component-toggle-small-thumb, 18px);
  --toggle-thumb-offset-top: calc(var(--spacing-sizing-4px, 4px) * -1);
  --toggle-thumb-position-off: calc(var(--spacing-sizing-4px, 4px) * -1);
  --toggle-thumb-position-on: calc(var(--spacing-sizing-16px, 16px) - var(--spacing-sizing-4px, 4px));
  --toggle-icon-size: var(--icon-size-sm, 14px);
}

.toggle[data-size="large"] {
  --toggle-track-width: var(--component-toggle-large-track-width, 58px);
  --toggle-track-height: var(--component-toggle-large-track-height, 32px);
  --toggle-thumb-wrapper-size: var(--component-toggle-large-thumb-wrapper, 32px);
  --toggle-thumb-inner-size: var(--component-toggle-large-thumb, 24px);
  --toggle-thumb-offset-top: calc(var(--spacing-sizing-2px, 2px) * -1);
  --toggle-thumb-position-off: calc(var(--spacing-sizing-4px, 4px) * -1);
  --toggle-thumb-position-on: calc(var(--spacing-sizing-24px, 24px) - var(--spacing-sizing-2px, 2px));
  --toggle-icon-size: var(--icon-size-lg, 20px);
}

.toggle[data-disabled="true"] {
  cursor: not-allowed;
  --toggle-track-background: var(--base-white, #FFFFFF);
  --toggle-track-outline-color: var(--neutral-gray-gray-300, #D2D5DA);
}

.toggle__input {
  position: absolute;
  inset: 0;
  width: 0;
  height: 0;
  opacity: 0;
  pointer-events: none;
}

.toggle__track {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  width: var(--toggle-track-width);
  height: var(--toggle-track-height);
  padding: var(--toggle-track-vertical-padding) var(--toggle-track-horizontal-padding);
  border-radius: var(--spacing-radius-full, 9999px);
  background: var(--toggle-track-background);
  outline: var(--spacing-stroke-1px, 1px) solid var(--toggle-track-outline-color);
  box-shadow: var(--toggle-track-box-shadow);
  transition: background-color var(--toggle-transition-duration) ease,
    outline-color var(--toggle-transition-duration) ease,
    box-shadow var(--toggle-transition-duration) ease;
  box-sizing: border-box;
}

.toggle__track-inner {
  position: relative;
  display: block;
  flex: 1 1 0;
  align-self: stretch;
  width: 100%;
  height: 100%;
}

.toggle[data-enabled="true"] {
  --toggle-track-background: var(--primary-sky-blue-500, #0BA7EA);
  --toggle-track-outline-color: var(--primary-sky-blue-dark-sky-blue, #04435E);
}

.toggle[data-disabled="true"][data-enabled="true"] {
  --toggle-track-background: var(--primary-sky-blue-light-alt, #D6F0FB);
  --toggle-track-outline-color: var(--neutral-gray-gray-300, #D2D5DA);
}

.toggle[data-state="hover"][data-enabled="true"],
.toggle[data-enabled="true"]:not([data-disabled="true"]):hover {
  --toggle-track-background: var(--primary-sky-blue-450, #1DB2F5);
  --toggle-track-box-shadow: inset 0 0 0 var(--spacing-stroke-1px, 1px) var(--primary-sky-blue-dark-sky-blue, #04435E);
}

.toggle[data-state="focused"][data-enabled="true"] {
  --toggle-track-box-shadow: inset 0 0 0 var(--spacing-stroke-1px, 1px) var(--primary-sky-blue-dark-sky-blue, #04435E),
    0 0 0 calc(var(--spacing-spacing-4px, 4px)) rgba(4, 67, 94, 0.35);
}

.toggle__thumb {
  position: absolute;
  top: var(--toggle-thumb-offset-top);
  left: var(--toggle-thumb-position-off);
  width: var(--toggle-thumb-wrapper-size);
  height: var(--toggle-thumb-wrapper-size);
  padding: var(--spacing-sizing-2px, 2px);
  border-radius: var(--spacing-radius-full, 9999px);
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  transition: left var(--toggle-transition-duration) ease, transform var(--toggle-transition-duration) ease;
}

.toggle[data-enabled="true"] .toggle__thumb {
  left: var(--toggle-thumb-position-on);
}

.toggle__thumb::before {
  content: '';
  width: var(--toggle-thumb-inner-size);
  height: var(--toggle-thumb-inner-size);
  border-radius: var(--spacing-radius-full, 9999px);
  background: var(--base-white, #FFFFFF);
  outline: var(--spacing-stroke-1px, 1px) solid var(--primary-sky-blue-dark-sky-blue, #04435E);
  outline-offset: calc(var(--spacing-stroke-0-5px, 0.5px) * -1);
  display: block;
}

.toggle[data-disabled="true"] .toggle__thumb::before {
  outline-color: var(--neutral-gray-gray-300, #D2D5DA);
}

.toggle[data-state="clicked"][data-enabled="true"] .toggle__thumb::before {
  background: var(--primary-sky-blue-dark-sky-blue, #04435E);
}

.toggle[data-state="clicked"][data-enabled="false"] .toggle__thumb::before {
  background: var(--status-red, #CE2031);
  outline-color: var(--status-red, #CE2031);
}

.toggle[data-disabled="true"][data-state="clicked"] .toggle__thumb::before {
  background: var(--neutral-gray-gray-200, #E5E7EB);
  outline-color: var(--neutral-gray-gray-300, #D2D5DA);
}

.toggle__icon {
  position: relative;
  width: var(--toggle-icon-size);
  height: var(--toggle-icon-size);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  z-index: 1;
}

.toggle__icon svg {
  width: 100%;
  height: 100%;
  display: block;
  user-select: none;
  pointer-events: none;
  shape-rendering: crispEdges;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: optimize-contrast;
}

.toggle__input:focus-visible + .toggle__track {
  outline: var(--spacing-sizing-2px) solid var(--primary-sky-blue-500, #0A83C5);
  outline-offset: var(--spacing-sizing-2px);
}

.toggle[data-disabled="true"] .toggle__input:focus-visible + .toggle__track {
  outline: none;
}

@media (prefers-contrast: high) {
  .toggle__track,
  .toggle__thumb::before {
    outline-width: var(--spacing-stroke-2px);
  }
}

@media (prefers-reduced-motion: reduce) {
  .toggle__track,
  .toggle__thumb {
    transition: none;
  }
}

/* Storybook Demo Helpers */
.toggle-demo__stack {
  display: inline-flex;
  flex-direction: column;
  gap: 32px;
}

.toggle-demo__group {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.toggle-demo__label {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 4px 0;
  color: var(--base-black, #1C1C1C);
  font-family: Archivo;
  font-weight: 300;
  letter-spacing: 0.15px;
}

.toggle-demo__label--small {
  font-size: 14px;
  line-height: 16px;
}

.toggle-demo__label--default {
  font-size: 16px;
  line-height: 20px;
}

.toggle-demo__label--large {
  font-size: 18px;
  line-height: 24px;
}
