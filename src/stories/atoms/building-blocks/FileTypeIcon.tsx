import React from 'react';
import './fileTypeIcon.css';

export type FileType = 
  | 'default'
  | 'folder'
  | 'image'
  | 'film'
  | 'video'
  | 'audio'
  | 'adobe-pdf'
  | 'text'
  | 'sheet'
  | 'code'
  | '.img'
  | '.jpg'
  | '.jpeg'
  | '.png'
  | '.webp'
  | '.csv'
  | '.txt'
  | '.docx'
  | '.doc'
  | '.pdf'
  | '.eps'
  | '.svg'
  | '.gif'
  | '.tiff'
  | '.xls'
  | '.xlsx'
  | '.ppt'
  | '.fig'
  | '.ai'
  | '.psd'
  | '.indd'
  | '.aep'
  | '.rss'
  | '.css'
  | '.html'
  | '.mkv'
  | '.avi'
  | '.mpeg'
  | '.mp4'
  | '.wav'
  | '.mp3'
  | '.sql'
  | '.js'
  | '.json'
  | '.java'
  | '.xml'
  | '.exe'
  | '.dmg'
  | '.zip'
  | '.pptx'
  | '.rar';

export type FileSize = 'small' | 'default' | 'large';

export interface FileTypeIconProps {
  type?: FileType;
  size?: FileSize;
  className?: string;
}

const FileIcon: React.FC<{ type: FileType }> = ({ type }) => {
  // Generic file types with icons
  const iconTypes = ['folder', 'image', 'film', 'video', 'audio', 'adobe-pdf', 'text', 'sheet', 'code'];
  
  if (iconTypes.includes(type)) {
    return (
      <svg className="icon-wrap" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        {type === 'folder' && (
          <path d="M9.75 5.25L8.91334 3.57669C8.67255 3.0951 8.55215 2.8543 8.37253 2.67837C8.21368 2.5228 8.02224 2.40448 7.81206 2.33198C7.57437 2.25 7.30516 2.25 6.76672 2.25H3.9C3.05992 2.25 2.63988 2.25 2.31901 2.41349C2.03677 2.5573 1.8073 2.78677 1.66349 3.06901C1.5 3.38988 1.5 3.80992 1.5 4.65V5.25M1.5 5.25H12.9C14.1601 5.25 14.7902 5.25 15.2715 5.49524C15.6948 5.71095 16.039 6.05516 16.2548 6.47852C16.5 6.95982 16.5 7.58988 16.5 8.85V12.15C16.5 13.4101 16.5 14.0402 16.2548 14.5215C16.039 14.9448 15.6948 15.289 15.2715 15.5048C14.7902 15.75 14.1601 15.75 12.9 15.75H5.1C3.83988 15.75 3.20982 15.75 2.72852 15.5048C2.30516 15.289 1.96095 14.9448 1.74524 14.5215C1.5 14.0402 1.5 13.4101 1.5 12.15V5.25Z" stroke="#7F56D9" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        )}
        {type === 'image' && (
          <path d="M14.2499 15.75H15.0076C15.736 15.75 16.1002 15.75 16.301 15.5981C16.4758 15.4658 16.5841 15.2636 16.5971 15.0447C16.6121 14.7934 16.4101 14.4904 16.0061 13.8844L13.7483 10.4977C13.4145 9.99693 13.2476 9.74654 13.0372 9.65929C12.8532 9.58301 12.6465 9.58301 12.4626 9.65929C12.2522 9.74654 12.0852 9.99693 11.7514 10.4977L11.1933 11.3349M14.2499 15.75L8.48649 7.42513C8.15503 6.94636 7.98931 6.70698 7.78229 6.62283C7.6012 6.54921 7.39852 6.54921 7.21742 6.62283C7.01041 6.70698 6.84468 6.94636 6.51323 7.42513L2.05351 13.8669C1.63124 14.4769 1.42011 14.7819 1.43213 15.0355C1.4426 15.2564 1.55001 15.4614 1.72566 15.5957C1.92736 15.75 2.29829 15.75 3.04014 15.75H14.2499ZM15.7499 4.5C15.7499 5.74264 14.7425 6.75 13.4999 6.75C12.2572 6.75 11.2499 5.74264 11.2499 4.5C11.2499 3.25736 12.2572 2.25 13.4999 2.25C14.7425 2.25 15.7499 3.25736 15.7499 4.5Z" stroke="#7F56D9" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        )}
        {type === 'film' && (
          <g clipPath="url(#clip0_film)">
            <path d="M1.5 9H16.5M1.5 5.25H5.25M12.75 5.25H16.5M1.5 12.75H5.25M12.75 12.75H16.5M5.25 16.5V1.5M12.75 16.5V1.5M5.1 16.5H12.9C14.1601 16.5 14.7902 16.5 15.2715 16.2548C15.6948 16.039 16.039 15.6948 16.2548 15.2715C16.5 14.7902 16.5 14.1601 16.5 12.9V5.1C16.5 3.83988 16.5 3.20982 16.2548 2.72852C16.039 2.30516 15.6948 1.96095 15.2715 1.74524C14.7902 1.5 14.1601 1.5 12.9 1.5H5.1C3.83988 1.5 3.20982 1.5 2.72852 1.74524C2.30516 1.96095 1.96095 2.30516 1.74524 2.72852C1.5 3.20982 1.5 3.83988 1.5 5.1V12.9C1.5 14.1601 1.5 14.7902 1.74524 15.2715C1.96095 15.6948 2.30516 16.039 2.72852 16.2548C3.20982 16.5 3.83988 16.5 5.1 16.5Z" stroke="#155EEF" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
            <defs>
              <clipPath id="clip0_film">
                <rect width="18" height="18" fill="white"/>
              </clipPath>
            </defs>
          </g>
        )}
        {type === 'video' && (
          <g clipPath="url(#clip0_video)">
            <path d="M9 16.5C13.1421 16.5 16.5 13.1421 16.5 9C16.5 4.85786 13.1421 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 13.1421 4.85786 16.5 9 16.5Z" stroke="#155EEF" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
            <path d="M7.125 6.724C7.125 6.36604 7.125 6.18705 7.19981 6.08713C7.265 6.00006 7.36478 5.94558 7.47328 5.93783C7.59779 5.92893 7.74834 6.02572 8.04945 6.21929L11.5899 8.49529C11.8512 8.66326 11.9818 8.74725 12.027 8.85404C12.0664 8.94735 12.0664 9.05265 12.027 9.14596C11.9818 9.25275 11.8512 9.33673 11.5899 9.50471L8.04945 11.7807C7.74834 11.9743 7.59779 12.0711 7.47328 12.0622C7.36478 12.0544 7.265 11.9999 7.19981 11.9129C7.125 11.8129 7.125 11.634 7.125 11.276V6.724Z" stroke="#155EEF" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
            <defs>
              <clipPath id="clip0_video">
                <rect width="18" height="18" fill="white"/>
              </clipPath>
            </defs>
          </g>
        )}
        {type === 'audio' && (
          <path d="M5.8501 13.5001V4.76665C5.8501 4.40549 5.8501 4.22492 5.9158 4.07846C5.97372 3.94936 6.06697 3.83927 6.1848 3.76092C6.31846 3.67203 6.49658 3.64235 6.85282 3.58297L13.4528 2.48297C13.9335 2.40285 14.1739 2.36279 14.3612 2.43237C14.5256 2.49343 14.6634 2.61016 14.7507 2.76227C14.8501 2.93561 14.8501 3.17929 14.8501 3.66665V12.0001M5.8501 13.5001C5.8501 14.7427 4.84274 15.7501 3.6001 15.7501C2.35746 15.7501 1.3501 14.7427 1.3501 13.5001C1.3501 12.2575 2.35746 11.2501 3.6001 11.2501C4.84274 11.2501 5.8501 12.2575 5.8501 13.5001ZM14.8501 12.0001C14.8501 13.2427 13.8427 14.2501 12.6001 14.2501C11.3575 14.2501 10.3501 13.2427 10.3501 12.0001C10.3501 10.7575 11.3575 9.75009 12.6001 9.75009C13.8427 9.75009 14.8501 10.7575 14.8501 12.0001Z" stroke="#DD2590" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        )}
        {type === 'adobe-pdf' && (
          <path d="M14.7088 10.344C13.586 10.344 12.1808 10.5399 11.7211 10.6088C9.81836 8.62182 9.27703 7.49241 9.15526 7.19129C9.32028 6.7673 9.89443 5.15665 9.97601 3.08804C10.0162 2.05235 9.79746 1.27846 9.32557 0.787874C8.85449 0.2981 8.2843 0.26001 8.12079 0.26001C7.54746 0.26001 6.58568 0.549926 6.58568 2.49137C6.58568 4.17588 7.37106 5.96334 7.58816 6.42518C6.44435 9.75565 5.21634 12.0356 4.95557 12.5044C0.359419 14.2349 0 15.9081 0 16.3823C0 17.2345 0.60689 17.7432 1.62343 17.7432C4.0932 17.7432 6.34703 13.5967 6.71969 12.8767C8.47382 12.1778 10.8216 11.7449 11.4184 11.6416C13.1304 13.2724 15.1104 13.7075 15.9326 13.7075C16.5512 13.7075 17.9999 13.7075 17.9999 12.218C18 10.8348 16.2271 10.344 14.7088 10.344ZM14.5898 11.3219C15.9238 11.3219 16.2764 11.7631 16.2764 11.9963C16.2764 12.1427 16.2208 12.6203 15.5058 12.6203C14.8646 12.6203 13.7575 12.2497 12.6683 11.4456C13.1225 11.3859 13.7947 11.3219 14.5898 11.3219ZM8.05076 1.20785C8.17241 1.20785 8.25248 1.24693 8.3185 1.3385C8.70219 1.87089 8.39282 3.61051 8.01627 4.97183C7.65279 3.80456 7.38 2.0135 7.76381 1.38338C7.83883 1.2604 7.92459 1.20785 8.05076 1.20785ZM7.40288 11.6277C7.88586 10.652 8.42719 9.22999 8.72204 8.42574C9.3121 9.41336 10.1057 10.3303 10.5647 10.8275C9.13558 11.1288 8.0543 11.4298 7.40288 11.6277ZM0.9594 16.5125C0.927581 16.4748 0.922877 16.3952 0.946858 16.2997C0.997142 16.0995 1.38141 15.1074 4.16079 13.8641C3.76281 14.491 3.14065 15.3867 2.45717 16.0558C1.97605 16.5062 1.60142 16.7345 1.34367 16.7345C1.25146 16.7345 1.12442 16.7094 0.9594 16.5125Z" fill="#D92D20"/>
        )}
        {type === 'text' && (
          <path d="M0.899902 4.5H17.0999M0.899902 8.1H17.0999M0.899902 11.7H17.0999M0.899902 15.3H13.4999" stroke="#155EEF" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        )}
        {type === 'sheet' && (
          <path d="M0.899902 9.9H17.0999M0.899902 9.9V6.3C0.899902 5.30589 1.70579 4.5 2.6999 4.5H6.2999M0.899902 9.9V13.5C0.899902 14.4941 1.70579 15.3 2.6999 15.3H6.2999M17.0999 9.9V13.5C17.0999 14.4941 16.294 15.3 15.2999 15.3H6.2999M17.0999 9.9V6.3C17.0999 5.30589 16.294 4.5 15.2999 4.5H6.2999M6.2999 4.5V15.3" stroke="#099250" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        )}
        {type === 'code' && (
          <path d="M12.75 12.75L16.5 9L12.75 5.25M5.25 5.25L1.5 9L5.25 12.75M10.5 2.25L7.5 15.75" stroke="#444CE7" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        )}
      </svg>
    );
  }
  
  return null;
};

const getFileTypeLabel = (type: FileType): string => {
  const labelMap: Record<string, string> = {
    '.img': 'IMG',
    '.jpg': 'JPG',
    '.jpeg': 'JPEG',
    '.png': 'PNG',
    '.webp': 'WEBP',
    '.csv': 'CSV',
    '.txt': 'TXT',
    '.docx': 'DOCX',
    '.doc': 'DOC',
    '.pdf': 'PDF',
    '.eps': 'EPS',
    '.svg': 'SVG',
    '.gif': 'GIF',
    '.tiff': 'TIFF',
    '.xls': 'XLS',
    '.xlsx': 'XLSX',
    '.ppt': 'PPT',
    '.pptx': 'PPTX',
    '.fig': 'FIG',
    '.ai': 'AI',
    '.psd': 'PSD',
    '.indd': 'INDD',
    '.aep': 'AEP',
    '.mp3': 'MP3',
    '.wav': 'WAV',
    '.mp4': 'MP4',
    '.mpeg': 'MPEG',
    '.avi': 'AVI',
    '.mkv': 'MKV',
    '.html': 'HTML',
    '.css': 'CSS',
    '.rss': 'RSS',
    '.sql': 'SQL',
    '.js': 'JS',
    '.json': 'JSON',
    '.java': 'JAVA',
    '.xml': 'XML',
    '.exe': 'EXE',
    '.dmg': 'DMG',
    '.zip': 'ZIP',
    '.rar': 'RAR',
  };
  
  return labelMap[type] || '';
};

export const FileTypeIcon: React.FC<FileTypeIconProps> = ({ 
  type = 'default', 
  size = 'default',
  className = ''
}) => {
  const showLabel = !['default', 'folder', 'image', 'film', 'video', 'audio', 'adobe-pdf', 'text', 'sheet', 'code'].includes(type);
  const label = getFileTypeLabel(type);
  
  return (
    <div className={`file-type-icon size-${size} type-${type} ${className}`.trim()}>
      <svg
        className="page"
        viewBox="0 0 34 42"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4 0.75H21C21.1372 0.75 21.2692 0.804324 21.3662 0.901367L32.6982 12.2344C32.7952 12.3313 32.8495 12.4625 32.8496 12.5996V38C32.8496 39.7949 31.3945 41.25 29.5996 41.25H4C2.20508 41.25 0.75 39.7949 0.75 38V4C0.75 2.20507 2.20507 0.75 4 0.75Z"
          fill="var(--base-white, #ffffff)"
          stroke="#D0D5DD"
          strokeWidth="1.5"
        />
        <path
          d="M21 0.525024V8.60003C21 10.8092 22.7909 12.6 25 12.6H33.075"
          stroke="#D0D5DD"
          strokeWidth="1.5"
        />
      </svg>
      
      <FileIcon type={type} />
      
      {showLabel && label && (
        <div className="file-type-wrap">
          <div className="file-type">{label}</div>
        </div>
      )}
    </div>
  );
};
