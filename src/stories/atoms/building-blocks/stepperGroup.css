/* Import design tokens */
@import '../../foundations/tokens.css';

/* === STEPPER GROUP COMPONENT === */
.stepper-group {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  width: 100%;
  position: relative;
}

/* === SIZE VARIANTS === */
.stepper-group-size-default {
  /* Base styling for default size */
  min-height: 148px; /* 100px step + 38px label + 10px gap */
}

.stepper-group-size-large {
  /* Base styling for large size */
  min-height: 188px; /* 140px step + 38px label + 10px gap */
}

/* === STEP COUNT VARIATIONS === */

/* Four steps (default) */
.stepper-group-steps-four {
  max-width: 1000px;
  
  &.stepper-group-size-default {
    min-width: 800px;
  }
  
  &.stepper-group-size-large {
    min-width: 1000px;
  }
}

/* Five steps */
.stepper-group-steps-five {
  max-width: 1100px;
  
  &.stepper-group-size-default {
    min-width: 900px;
  }
  
  &.stepper-group-size-large {
    min-width: 1100px;
  }
}

/* Six steps */
.stepper-group-steps-six {
  max-width: 1200px;
  
  &.stepper-group-size-default {
    min-width: 1000px;
  }
  
  &.stepper-group-size-large {
    min-width: 1200px;
  }
}

/* Seven steps */
.stepper-group-steps-seven {
  max-width: 1300px;
  
  &.stepper-group-size-default {
    min-width: 1100px;
  }
  
  &.stepper-group-size-large {
    min-width: 1300px;
  }
}

/* Eight steps */
.stepper-group-steps-eight {
  max-width: 1400px;
  
  &.stepper-group-size-default {
    min-width: 1200px;
  }
  
  &.stepper-group-size-large {
    min-width: 1400px;
  }
}

/* === CONNECTING LINES === */
.stepper-group-line {
  align-self: center;
  margin-top: 0;
  flex-shrink: 0;
  
  /* Position the line to align with the step indicators */
  .stepper-group-size-default & {
    margin-top: -74px; /* Center line with step indicator */
  }
  
  .stepper-group-size-large & {
    margin-top: -94px; /* Center line with step indicator */
  }
}

/* === STATE VARIATIONS === */

/* Default state */
.stepper-group-state-default {
  /* All steps in their individual states */
}

/* In progress state */
.stepper-group-state-in-progress {
  /* Some steps completed, one active, rest pending */
}

/* Complete state */
.stepper-group-state-complete {
  /* All steps completed */
}

/* === RESPONSIVE DESIGN === */
@media (max-width: 1440px) {
  /* Tablet landscape adjustments */
  .stepper-group-steps-eight {
    max-width: 100%;
    min-width: 900px;
  }
  
  .stepper-group-steps-seven {
    max-width: 100%;
    min-width: 800px;
  }
  
  .stepper-group-steps-six {
    max-width: 100%;
    min-width: 700px;
  }
}

@media (max-width: 1024px) {
  /* Tablet adjustments */
  .stepper-group {
    padding: 0 var(--spacing-sizing-16px, 16px);
  }
  
  .stepper-group-steps-eight {
    min-width: 700px;
  }
  
  .stepper-group-steps-seven {
    min-width: 600px;
  }
  
  .stepper-group-steps-six {
    min-width: 500px;
  }
  
  .stepper-group-steps-five {
    min-width: 400px;
  }
  
  .stepper-group-steps-four {
    min-width: 350px;
  }
  
  /* Adjust line positioning for tablet */
  .stepper-group-line {
    .stepper-group-size-default & {
      margin-top: -60px;
    }
    
    .stepper-group-size-large & {
      margin-top: -75px;
    }
  }
}

@media (max-width: 768px) {
  /* Small tablet adjustments */
  .stepper-group {
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--spacing-sizing-24px, 24px);
  }
  
  /* Hide connecting lines on mobile and show vertical layout */
  .stepper-group-line {
    display: none;
  }
  
  /* Stack steps vertically on small screens */
  .stepper-group-steps-eight,
  .stepper-group-steps-seven,
  .stepper-group-steps-six,
  .stepper-group-steps-five {
    flex-direction: column;
    min-width: auto;
    max-width: 300px;
    
    .stepper-group-line {
      display: block;
      width: 2px;
      height: var(--spacing-sizing-32px, 32px);
      margin: var(--spacing-sizing-16px, 16px) 0;
      align-self: center;
    }
  }
}

@media (max-width: 480px) {
  /* Mobile adjustments */
  .stepper-group {
    padding: 0 var(--spacing-sizing-12px, 12px);
    gap: var(--spacing-sizing-16px, 16px);
  }
  
  /* Always vertical layout on mobile */
  .stepper-group-steps-four {
    flex-direction: column;
    min-width: auto;
    max-width: 200px;
    
    .stepper-group-line {
      display: block;
      width: 2px;
      height: var(--spacing-sizing-24px, 24px);
      margin: var(--spacing-sizing-12px, 12px) 0;
      align-self: center;
    }
  }
  
  /* Adjust line dimensions for mobile */
  .stepper-group-line {
    height: var(--spacing-sizing-24px, 24px);
    margin: var(--spacing-sizing-12px, 12px) 0;
  }
}

/* === ACCESSIBILITY === */
.stepper-group:focus-within {
  outline: 2px solid var(--primary-blue-blue, #2F42BD);
  outline-offset: var(--spacing-sizing-4px, 4px);
  border-radius: var(--spacing-radius-8px, 8px);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .stepper-group-line {
    background-color: var(--base-black, #1C1C1C);
    border-color: var(--base-black, #1C1C1C);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .stepper-group {
    transition: none;
  }
}

/* === UTILITY CLASSES === */
.stepper-group-compact {
  gap: var(--spacing-sizing-8px, 8px);
}

.stepper-group-spacious {
  gap: var(--spacing-sizing-32px, 32px);
}

.stepper-group-centered {
  justify-content: center;
}

.stepper-group-start {
  justify-content: flex-start;
}

.stepper-group-end {
  justify-content: flex-end;
}
