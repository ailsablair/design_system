/* ===== ACCORDION HEADER COMPONENT - EXACT FIGMA DESIGN MATCH (72 VARIANTS) ===== */

.accordion-header {
  display: flex;
  align-items: center;
  width: 100%; /* FILL: Take full width of parent container */
  max-width: 100%; /* Prevent overflow */
  background: transparent;
  border: none;
  padding: 0;
  cursor: default;
  transition: var(--transition-normal);
  /* Figma-specific styling for all 72 variants */
  position: relative;
  box-sizing: border-box;
}

.accordion-header--interactive {
  cursor: pointer;
}

.accordion-header--interactive:focus-visible {
  outline: var(--spacing-stroke-2px) solid var(--primary-blue-blue);
  outline-offset: var(--spacing-sizing-2px);
  border-radius: var(--spacing-radius-4px);
}

.accordion-header__content {
  display: flex;
  align-items: center;
  gap: var(--spacing-sizing-12px); /* 12px - exact Figma spec */
  width: 100%; /* FILL: Full width of header */
  flex: 1; /* FILL: Expand to available space */
  min-width: 0; /* Allow flex children to shrink below content size */
  position: relative;
  /* Figma heading+icon layout */
  box-sizing: border-box;
}

/* ===== BELL ICON STYLES - EXACT FIGMA SPECS ===== */

.accordion-header__bell {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0; /* FIXED: Maintain consistent icon size */
  /* Figma bell icon container - no background or border by default */
  transition: var(--transition-normal);
}

.accordion-header__bell-icon {
  display: block;
  opacity: 0.5; /* Exact Figma opacity from design */
  transition: var(--transition-normal);
  color: #2F42BD; /* Exact Figma blue color */
  flex-shrink: 0; /* FIXED: Prevent icon distortion */
  transition: all var(--transition-normal); /* Smooth transitions for all properties */
}

/* Bell icon sizes - exact Figma specifications */
.accordion-header--size-small .accordion-header__bell {
  width: 18px;
  height: 18px;
}

.accordion-header--size-small .accordion-header__bell-icon {
  width: 18px;
  height: 18px;
}

.accordion-header--size-default .accordion-header__bell {
  width: 22px;
  height: 22px;
}

.accordion-header--size-default .accordion-header__bell-icon {
  width: 22px;
  height: 22px;
}

.accordion-header--size-large .accordion-header__bell {
  width: 26px;
  height: 26px;
}

.accordion-header--size-large .accordion-header__bell-icon {
  width: 26px;
  height: 26px;
}

/* ===== MAIN CONTENT AREA ===== */

.accordion-header__main {
  display: flex;
  align-items: center;
  flex: 1; /* FILL: Take remaining space between bell and toggle icons */
  min-width: 0; /* Allow text truncation when space is limited */
}

.accordion-header__title {
  flex: 1; /* FILL: Take all available space in main area */
  min-width: 0; /* Allow shrinking below content size for truncation */
  font-family: var(--type-typeface-archivo); /* Archivo - exact Figma font */
  font-weight: 400; /* Regular weight - exact Figma spec */
  color: #191E3C; /* Exact Figma color var(--primary-blue-dark-blue) */
  transition: var(--transition-normal);

  /* Text overflow handling - HUG content height, FILL width */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  /* Figma text properties */
  font-style: normal;
}

/* ===== SIZE VARIANTS - EXACT FIGMA TYPOGRAPHY ===== */

/* Small size - 18px exact Figma specs */
.accordion-header--size-small .accordion-header__title {
  font-size: 18px; /* Exact Figma size */
  line-height: 24px; /* 133.333% - exact Figma line height */
  letter-spacing: 0.15px; /* Exact Figma letter spacing */
  font-weight: 400; /* Exact Figma font-weight from spans */
}

/* Default size - 19px exact Figma specs */
.accordion-header--size-default .accordion-header__title {
  font-size: 19px; /* Exact Figma size */
  line-height: 24px; /* 126.316% - exact Figma line height */
  letter-spacing: -0.15px; /* Exact Figma letter spacing */
  font-weight: 400; /* Exact Figma font-weight from spans */
}

/* Large size - 24px exact Figma specs */
.accordion-header--size-large .accordion-header__title {
  font-size: 24px; /* Exact Figma size */
  line-height: 24px; /* 100% - exact Figma line height */
  letter-spacing: -0.25px; /* Exact Figma letter spacing */
  font-weight: 400; /* Exact Figma font-weight from spans */
}

/* ===== TOGGLE ICON STYLES - EXACT FIGMA SPECS ===== */

.accordion-header__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0; /* FIXED: Maintain consistent toggle icon size */
  /* Figma toggle icon container - no background or border by default */
  transition: var(--transition-normal);
}

.accordion-header__toggle-icon {
  display: block;
  transition: all var(--transition-normal); /* Smooth transitions for all properties */
  color: #2F42BD; /* Exact Figma blue color */
  flex-shrink: 0; /* FIXED: Prevent icon distortion */
  opacity: 1; /* Full opacity for toggle icons in Figma */
}

/* Toggle icon sizes - exact Figma specifications */
.accordion-header--size-small .accordion-header__toggle {
  width: 20px;
  height: 20px;
}

.accordion-header--size-small .accordion-header__toggle-icon {
  width: 20px;
  height: 20px;
}

.accordion-header--size-default .accordion-header__toggle {
  width: 28px;
  height: 28px;
}

.accordion-header--size-default .accordion-header__toggle-icon {
  width: 28px;
  height: 28px;
}

.accordion-header--size-large .accordion-header__toggle {
  width: 32px;
  height: 32px;
}

.accordion-header--size-large .accordion-header__toggle-icon {
  width: 32px;
  height: 32px;
}

/* ===== STATE VARIANTS - EXACT FIGMA COLORS ===== */

/* Default state - exact Figma specifications */
.accordion-header--state-default .accordion-header__title {
  color: #191E3C; /* Exact Figma color */
  font-weight: 400; /* Regular weight, spans show 400 in Figma */
}

.accordion-header--state-default .accordion-header__bell-icon {
  color: #2F42BD; /* Exact Figma blue */
  opacity: 0.5; /* Exact Figma opacity */
}

.accordion-header--state-default .accordion-header__toggle-icon {
  color: #2F42BD; /* Exact Figma blue */
}

/* Hover state - enhanced with better visual feedback */
.accordion-header--state-hover .accordion-header__title,
.accordion-header--interactive:hover .accordion-header__title {
  color: var(--primary-blue-blue); /* Change to blue on hover for better feedback */
  font-weight: 400; /* Same as default in Figma hover state */
}

.accordion-header--state-hover .accordion-header__bell-icon,
.accordion-header--interactive:hover .accordion-header__bell-icon {
  color: var(--primary-blue-blue); /* Brighter blue on hover */
  opacity: 0.8; /* Slightly more visible on hover */
}

.accordion-header--state-hover .accordion-header__toggle-icon,
.accordion-header--interactive:hover .accordion-header__toggle-icon {
  color: var(--primary-blue-blue); /* Brighter blue on hover */
  opacity: 1; /* Full opacity on hover */
}

/* Selected state - exact Figma specifications */
.accordion-header--state-selected .accordion-header__title {
  color: #1C1C1C; /* Exact Figma selected color var(--base-black) */
  font-weight: 400; /* Regular weight in Figma selected */
}

.accordion-header--state-selected .accordion-header__bell-icon {
  color: #2F42BD; /* Same blue color */
  opacity: 0.5; /* Same opacity */
}

.accordion-header--state-selected .accordion-header__toggle-icon {
  color: #2F42BD; /* Same blue color */
}

/* Open state - enhanced for better visual feedback */
.accordion-header--open .accordion-header__title {
  color: var(--primary-blue-blue); /* Blue color when open */
  font-weight: 400; /* Regular weight */
}

.accordion-header--open .accordion-header__bell-icon {
  color: var(--primary-blue-blue); /* Brighter blue when open */
  opacity: 1; /* Full opacity when open */
}

.accordion-header--open .accordion-header__toggle-icon {
  color: var(--primary-blue-blue); /* Brighter blue when open */
  opacity: 1; /* Full opacity when open */
}

/* Combined states - Open + Selected (when both true and selected) */
.accordion-header--open.accordion-header--state-selected .accordion-header__title {
  color: var(--primary-blue-blue); /* Blue color for open+selected state */
  font-weight: 400; /* Regular weight as per Figma */
}

.accordion-header--open.accordion-header--state-selected .accordion-header__bell-icon {
  color: var(--primary-blue-blue); /* Blue color for open+selected state */
  opacity: 1; /* Full opacity for selected+open */
}

.accordion-header--open.accordion-header--state-selected .accordion-header__toggle-icon {
  color: var(--primary-blue-blue); /* Blue color for open+selected state */
  opacity: 1; /* Full opacity for selected+open */
}

/* Enhanced Open + Hover state */
.accordion-header--open.accordion-header--interactive:hover .accordion-header__title {
  color: var(--primary-blue-blue-600); /* Darker blue for open+hover */
}

.accordion-header--open.accordion-header--interactive:hover .accordion-header__bell-icon {
  color: var(--primary-blue-blue-600); /* Darker blue for open+hover */
  opacity: 1;
}

.accordion-header--open.accordion-header--interactive:hover .accordion-header__toggle-icon {
  color: var(--primary-blue-blue-600); /* Darker blue for open+hover */
  opacity: 1;
}

/* ===== POSITION VARIANTS ===== */

.accordion-header--position-top {
  /* Top position specific styles if needed */
}

.accordion-header--position-middle {
  /* Middle is default */
}

.accordion-header--position-bottom {
  /* Bottom position specific styles if needed */
}

/* ===== CONTENT TYPE VARIANTS ===== */

.accordion-header--content-default {
  /* Default content type - N/A in Figma */
}

.accordion-header--content-header {
  /* Header content type - maintains same styling as default per Figma */
  /* No visual differences observed in Figma between N/A and header types */
}

/* ===== GROUPED VARIANT ===== */

.accordion-header--grouped {
  border-bottom: var(--spacing-stroke-1px) solid var(--neutral-gray-gray-200);
  padding-bottom: var(--spacing-sizing-8px);
  margin-bottom: var(--spacing-sizing-8px);
}

.accordion-header--grouped:last-child {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0;
}

/* ===== INTERACTION STATES ===== */

.accordion-header--interactive:active .accordion-header__toggle-icon {
  transform: scale(0.95);
  color: var(--primary-blue-blue-600); /* Darker blue for active state */
}

.accordion-header--interactive:active .accordion-header__toggle {
  border-color: var(--primary-blue-blue);
  background: var(--primary-blue-blue-100);
}

.accordion-header--interactive:active .accordion-header__title {
  color: var(--primary-blue-blue-600); /* Darker blue for active state */
}

.accordion-header--interactive:active .accordion-header__bell-icon {
  color: var(--primary-blue-blue-600); /* Darker blue for active state */
  transform: scale(0.95);
}

.accordion-header--interactive:focus-visible {
  outline: var(--spacing-stroke-2px) solid var(--primary-blue-blue);
  outline-offset: var(--spacing-sizing-2px);
}

.accordion-header--interactive:focus-visible .accordion-header__title {
  color: var(--primary-blue-blue); /* Blue color on focus */
}

.accordion-header--interactive:focus-visible .accordion-header__bell-icon {
  color: var(--primary-blue-blue); /* Blue color on focus */
  opacity: 1;
}

.accordion-header--interactive:focus-visible .accordion-header__toggle-icon {
  color: var(--primary-blue-blue); /* Blue color on focus */
  opacity: 1;
}

/* ===== RESPONSIVE DESIGN ===== */

@media (max-width: 768px) {
  .accordion-header--size-default .accordion-header__title {
    font-size: 18px; /* Scale down to small size */
    line-height: 24px;
  }

  .accordion-header--size-large .accordion-header__title {
    font-size: 20px; /* Scale down from 24px */
    line-height: 22px;
  }

  .accordion-header__content {
    gap: 8px; /* Reduce gap on mobile */
  }
}

@media (max-width: 480px) {
  .accordion-header__title {
    font-size: 16px; /* Mobile size - remove !important for cleaner CSS */
    line-height: 20px;
    font-weight: 400; /* Maintain consistent weight on mobile */
  }

  .accordion-header__content {
    gap: 6px; /* Smaller gap on small screens */
  }

  .accordion-header__bell {
    width: 16px; /* FIXED: Consistent mobile bell icon size */
    height: 16px;
    flex-shrink: 0;
  }

  .accordion-header__bell-icon {
    width: 16px;
    height: 16px;
  }

  .accordion-header__toggle {
    width: 18px; /* FIXED: Consistent mobile toggle size */
    height: 18px;
    flex-shrink: 0;
  }

  .accordion-header__toggle-icon {
    width: 18px;
    height: 18px;
  }
}

/* ===== ACCESSIBILITY ===== */

@media (prefers-reduced-motion: reduce) {
  .accordion-header,
  .accordion-header__title,
  .accordion-header__bell,
  .accordion-header__bell-icon,
  .accordion-header__toggle,
  .accordion-header__toggle-icon {
    transition: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .accordion-header--interactive:focus-visible {
    outline-width: var(--spacing-stroke-3px);
  }
  
  .accordion-header__title {
    font-weight: var(--type-weight-semibold); /* 600 - slightly bolder for high contrast readability */
  }
  
  .accordion-header__bell {
    border-width: var(--spacing-stroke-2px) !important;
  }
  
  .accordion-header__toggle {
    border-width: var(--spacing-stroke-2px) !important;
  }
}

/* ===== DARK MODE SUPPORT ===== */

@media (prefers-color-scheme: dark) {
  .accordion-header {
    --primary-blue-dark-blue: #E5E7EB;
    --base-black: #F9FAFB;
    --primary-blue-blue: #60A5FA;
    --neutral-gray-gray-200: #374151;
    --neutral-gray-gray-50: #1F2937;
    --primary-sky-blue-200: #0369A1;
    --primary-sky-blue-50: #0C4A6E;
  }
}

/* ===== PRINT STYLES ===== */

@media print {
  .accordion-header {
    break-inside: avoid;
  }
  
  .accordion-header__toggle {
    display: none;
  }
  
  .accordion-header__title {
    color: black !important;
    font-weight: var(--type-weight-semibold) !important; /* 600 - slightly bolder for print readability */
  }
  
  .accordion-header__bell {
    border: var(--spacing-stroke-1px) solid black !important;
    background: white !important;
  }
}

/* ===== UTILITY CLASSES ===== */

.accordion-header--compact {
  .accordion-header__content {
    gap: var(--spacing-sizing-8px);
  }
}

.accordion-header--spacious {
  .accordion-header__content {
    gap: var(--spacing-sizing-16px);
  }
}

/* ===== RTL SUPPORT ===== */

[dir="rtl"] .accordion-header__content {
  flex-direction: row-reverse;
}

[dir="rtl"] .accordion-header__title {
  text-align: right;
}
