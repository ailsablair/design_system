import React from 'react';
import './starIcon.css';

export interface StarIconProps {
  /**
   * Fill percentage of the star
   */
  fill?: 'empty' | '5' | '15' | '25' | '40' | '50' | '60' | '75' | '85' | '95' | '100';
  /**
   * Size of the star icon
   */
  size?: 'small' | 'default' | 'large';
  /**
   * Additional CSS class names
   */
  className?: string;
  /**
   * ARIA label for accessibility
   */
  ariaLabel?: string;
}

/**
 * StarIcon component for displaying rating stars in tables
 * 
 * Supports multiple fill percentages and sizes for flexible rating displays.
 * Designed to be used within table cells for rating systems.
 */
export const StarIcon: React.FC<StarIconProps> = ({
  fill = '100',
  size = 'default',
  className = '',
  ariaLabel,
}) => {
  const classNames = [
    'star-icon',
    `fill-${fill}`,
    `size-${size}`,
    className
  ].filter(Boolean).join(' ');

  const dimensions = {
    small: { width: 20, height: 20 },
    default: { width: 24, height: 24 },
    large: { width: 28, height: 28 }
  };

  const { width, height } = dimensions[size];

  return (
    <div 
      className={classNames}
      role="img"
      aria-label={ariaLabel || `${fill === '100' ? 'Filled' : fill === 'empty' ? 'Empty' : `${fill}% filled`} star`}
    >
      <svg
        className="star-background"
        width={width}
        height={height}
        viewBox={`0 0 ${width} ${height}`}
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          d={size === 'small' 
            ? "M8.31129 0.307962C8.48209 -0.102684 9.06381 -0.102684 9.23461 0.307962L11.3007 5.27544C11.3727 5.44856 11.5355 5.56684 11.7224 5.58183L17.0852 6.01176C17.5285 6.0473 17.7083 6.60056 17.3705 6.88989L13.2846 10.3899C13.1422 10.5119 13.0801 10.7033 13.1236 10.8856L14.3719 16.1188C14.4751 16.5514 14.0044 16.8934 13.6249 16.6615L9.03358 13.8572C8.87357 13.7595 8.67233 13.7595 8.51232 13.8572L3.92101 16.6615C3.54146 16.8934 3.07083 16.5514 3.17403 16.1188L4.42233 10.8856C4.46584 10.7033 4.40365 10.5119 4.26126 10.3899L0.175362 6.88989C-0.162406 6.60056 0.0173568 6.0473 0.460684 6.01176L5.82349 5.58183C6.01039 5.56684 6.17319 5.44856 6.2452 5.27544L8.31129 0.307962Z"
            : size === 'large'
            ? "M12.1155 0.307963C12.2863 -0.102683 12.868 -0.102684 13.0388 0.307962L16.1629 7.81921C16.2349 7.99233 16.3977 8.11061 16.5846 8.1256L24.6936 8.77569C25.137 8.81123 25.3167 9.36449 24.979 9.65382L18.8007 14.9461C18.6583 15.0681 18.5962 15.2595 18.6397 15.4419L20.5272 23.3549C20.6304 23.7875 20.1598 24.1294 19.7802 23.8976L12.8378 19.6572C12.6778 19.5595 12.4765 19.5595 12.3165 19.6572L5.37407 23.8976C4.99452 24.1294 4.52389 23.7875 4.62708 23.3549L6.51463 15.4419C6.55814 15.2595 6.49595 15.0681 6.35356 14.9461L0.175335 9.65382C-0.162433 9.36449 0.0173292 8.81123 0.460656 8.77569L8.56968 8.1256C8.75658 8.11061 8.91938 7.99233 8.99138 7.81921L12.1155 0.307963Z"
            : "M10.2134 0.307962C10.3842 -0.102684 10.9659 -0.102684 11.1367 0.307963L13.7318 6.54733C13.8038 6.72044 13.9666 6.83873 14.1535 6.85371L20.8894 7.39373C21.3328 7.42927 21.5125 7.98252 21.1747 8.27186L16.0427 12.668C15.9003 12.79 15.8381 12.9814 15.8816 13.1638L17.4495 19.7369C17.5527 20.1695 17.0821 20.5114 16.7026 20.2796L10.9357 16.7572C10.7757 16.6595 10.5744 16.6595 10.4144 16.7572L4.64754 20.2796C4.26799 20.5114 3.79736 20.1695 3.90056 19.7369L5.46848 13.1638C5.51199 12.9814 5.4498 12.79 5.30741 12.668L0.175349 8.27186C-0.16242 7.98252 0.0173435 7.42927 0.460671 7.39373L7.19659 6.85371C7.38348 6.83873 7.54629 6.72044 7.61829 6.54733L10.2134 0.307962Z"
          }
          fill="var(--neutral-gray-gray-200, #E5E7EB)"
        />
      </svg>
      {fill !== 'empty' && (
        <svg
          className="star-fill"
          viewBox={`0 0 ${width} ${height}`}
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <defs>
            <clipPath id={`star-clip-${size}-${fill}`}>
              <rect width={width} height={height} fill="white" />
            </clipPath>
          </defs>
          <g clipPath={`url(#star-clip-${size}-${fill})`}>
            <path
              d={size === 'small'
                ? "M9.53834 1.60996C9.70914 1.19932 10.2909 1.19932 10.4617 1.60996L12.5278 6.57744C12.5998 6.75056 12.7626 6.86885 12.9495 6.88383L18.3123 7.31376C18.7556 7.3493 18.9354 7.90256 18.5976 8.19189L14.5117 11.6919C14.3693 11.8139 14.3071 12.0053 14.3506 12.1876L15.5989 17.4208C15.7021 17.8534 15.2315 18.1954 14.8519 17.9635L10.2606 15.1592C10.1006 15.0615 9.89938 15.0615 9.73937 15.1592L5.14806 17.9635C4.76851 18.1954 4.29788 17.8534 4.40108 17.4208L5.64939 12.1876C5.69289 12.0053 5.6307 11.8139 5.48831 11.6919L1.40241 8.19189C1.06464 7.90256 1.24441 7.3493 1.68773 7.31376L7.05054 6.88383C7.23744 6.86885 7.40024 6.75056 7.47225 6.57744L9.53834 1.60996Z"
                : size === 'large'
                ? "M13.5383 2.10996C13.7091 1.69932 14.2909 1.69932 14.4617 2.10996L17.5858 9.62121C17.6578 9.79433 17.8206 9.91261 18.0075 9.9276L26.1165 10.5777C26.5598 10.6132 26.7396 11.1665 26.4018 11.4558L20.2236 16.7481C20.0812 16.8701 20.019 17.0615 20.0625 17.2439L21.9501 25.1569C22.0533 25.5895 21.5826 25.9314 21.2031 25.6996L14.2606 21.4592C14.1006 21.3615 13.8994 21.3615 13.7394 21.4592L6.79692 25.6996C6.41737 25.9314 5.94674 25.5895 6.04994 25.1569L7.93748 17.2439C7.98099 17.0615 7.9188 16.8701 7.77641 16.7481L1.59819 11.4558C1.26042 11.1665 1.44018 10.6132 1.88351 10.5777L9.99253 9.9276C10.1794 9.91261 10.3422 9.79433 10.4142 9.62121L13.5383 2.10996Z"
                : "M11.5383 1.70994C11.7091 1.29929 12.2909 1.29929 12.4617 1.70994L15.0568 7.9493C15.1288 8.12242 15.2916 8.24071 15.4785 8.25569L22.2144 8.7957C22.6577 8.83125 22.8375 9.3845 22.4997 9.67383L17.3676 14.07C17.2252 14.192 17.1631 14.3834 17.2066 14.5657L18.7745 21.1388C18.8777 21.5715 18.4071 21.9134 18.0275 21.6816L12.2606 18.1592C12.1006 18.0614 11.8994 18.0614 11.7394 18.1592L5.97249 21.6816C5.59294 21.9134 5.12231 21.5715 5.22551 21.1388L6.79343 14.5657C6.83694 14.3834 6.77475 14.192 6.63236 14.07L1.5003 9.67383C1.16253 9.3845 1.34229 8.83125 1.78562 8.7957L8.52154 8.25569C8.70843 8.24071 8.87124 8.12242 8.94324 7.9493L11.5383 1.70994Z"
              }
              fill="var(--primary-yellow-yellow, #F9C846)"
            />
          </g>
        </svg>
      )}
    </div>
  );
};
