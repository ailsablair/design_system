import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { DropdownMenu } from './DropdownMenu';

<Meta title="Molecules/DropdownMenu/Extended Documentation" />

# Extended Dropdown Menus

Extended dropdown menus provide enhanced navigation with section headers, sub-section navigation, and improved organization for complex menu structures.

## Features

- **Section Headers**: Organize menu items with labeled sections
- **Sub-section Navigation**: Navigate through hierarchical content with contextual back buttons  
- **Size Variants**: Small, default, and large sizes available
- **Responsive Design**: Adapts to different screen sizes
- **Accessibility**: Full keyboard navigation and screen reader support

## Live Examples

### Small Size with Sections

<Canvas>
  <Story name="Small Grouped Example">
    <div style={{ display: 'flex', gap: '8px', alignItems: 'flex-start' }}>
      <DropdownMenu 
        items={[
          { label: 'Section name', type: 'section', showLeadingIcon: false },
          { label: 'Menu item', showLeadingIcon: true, showTrailingIcon: true },
          { label: 'Menu item', showLeadingIcon: true, showTrailingIcon: true },
          { label: 'Menu item', showLeadingIcon: true },
        ]} 
        size="small" 
        type="sectioned" 
      />
      <DropdownMenu 
        items={[
          { label: 'Back', sectionName: 'Section name', type: 'sub-section', showLeadingIcon: true },
          { label: 'Submenu item', showLeadingIcon: true, state: 'hover' },
          { label: 'Submenu item', showLeadingIcon: true },
          { label: 'Submenu item', showLeadingIcon: true },
        ]} 
        size="small" 
        type="sectioned-submenu" 
      />
    </div>
  </Story>
</Canvas>

### Default Size with Sections

<Canvas>
  <Story name="Default Grouped Example">
    <div style={{ display: 'flex', gap: '12px', alignItems: 'flex-start' }}>
      <DropdownMenu 
        items={[
          { label: 'Section name', type: 'section', showLeadingIcon: false },
          { label: 'Menu item', showLeadingIcon: true, showTrailingIcon: true },
          { label: 'Menu item', showLeadingIcon: true, showTrailingIcon: true },
          { label: 'Menu item', showLeadingIcon: true },
        ]} 
        size="default" 
        type="sectioned" 
      />
      <DropdownMenu 
        items={[
          { label: 'Back', sectionName: 'Section name', type: 'sub-section', showLeadingIcon: true },
          { label: 'Submenu item', showLeadingIcon: true, state: 'hover' },
          { label: 'Submenu item', showLeadingIcon: true },
          { label: 'Submenu item', showLeadingIcon: true },
        ]} 
        size="default" 
        type="sectioned-submenu" 
      />
    </div>
  </Story>
</Canvas>

### Large Size with Sections

<Canvas>
  <Story name="Large Grouped Example">
    <div style={{ display: 'flex', gap: '16px', alignItems: 'flex-start' }}>
      <DropdownMenu 
        items={[
          { label: 'Section name', type: 'section', showLeadingIcon: false },
          { label: 'Menu item', showLeadingIcon: true, showTrailingIcon: true },
          { label: 'Menu item', showLeadingIcon: true, showTrailingIcon: true },
          { label: 'Menu item', showLeadingIcon: true },
        ]} 
        size="large" 
        type="sectioned" 
      />
      <DropdownMenu 
        items={[
          { label: 'Back', sectionName: 'Section name', type: 'sub-section', showLeadingIcon: true },
          { label: 'Submenu item', showLeadingIcon: true, state: 'hover' },
          { label: 'Submenu item', showLeadingIcon: true },
          { label: 'Submenu item', showLeadingIcon: true },
        ]} 
        size="large" 
        type="sectioned-submenu" 
      />
    </div>
  </Story>
</Canvas>

## Section Headers

Section headers provide clear organization within dropdown menus by grouping related items under descriptive labels.

These headers use the `type="section"` prop and automatically:
- Hide leading icons
- Center the text
- Apply bold typography
- Disable hover states

## Sub-section Navigation

Sub-section navigation includes contextual back buttons that display the parent section name, making navigation more intuitive.

These use the `type="sub-section"` prop and include:
- Back arrow icon
- Section name display
- Proper navigation context
- Consistent styling

## Usage Guidelines

### When to Use Section Headers

- Group related functionality (e.g., "File Operations", "View Options")
- Organize large menus with many items
- Provide clear visual hierarchy
- Improve navigation in complex interfaces

### When to Use Sub-section Navigation

- Multi-level navigation structures
- Settings or configuration menus
- File/folder navigation
- Hierarchical content organization

### Best Practices

1. **Keep section names concise** - Use 1-3 words when possible
2. **Logical grouping** - Group related items under appropriate sections
3. **Consistent sizing** - Use the same size variant throughout related menus
4. **Clear hierarchy** - Make parent-child relationships obvious
5. **Accessibility** - Ensure keyboard navigation works smoothly

## API Reference

### MenuItem Props (Extended)

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `type` | `'simple' \| 'back' \| 'section' \| 'sub-section'` | `'simple'` | Type of menu item |
| `sectionName` | `string` | - | Section name for sub-section type |
| `showLeadingIcon` | `boolean` | `true` | Show leading icon (automatically false for section headers) |
| `showTrailingIcon` | `boolean` | `false` | Show trailing chevron for expandable items |

### DropdownMenu Props (Extended)

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `type` | `'default' \| 'submenu' \| 'sectioned' \| 'sectioned-submenu'` | `'default'` | Menu type |
| `items` | `MenuItemProps[]` | - | Array of menu items including sections |

## Technical Implementation

The extended dropdown menus build upon the existing MenuItem and DropdownMenu components by:

1. **Adding new item types**: `section` and `sub-section`
2. **Enhancing navigation**: Contextual back buttons with section names  
3. **Improving styling**: Specialized CSS for section headers
4. **Maintaining compatibility**: All existing functionality preserved

This design ensures seamless integration with existing code while providing powerful new capabilities for complex navigation scenarios.
